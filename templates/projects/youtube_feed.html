{# templates/projects/youtube_feed.html #}
{% extends 'base.html' %}
{% load static %}

{% block title %}Latest YouTube Videos â€“ My Portfolio{% endblock %}

{% block content %}
<!-- DEBUG: standalone youtube_feed sees {{ youtube_videos|length }} videos -->

<section id="youtube-feed" class="yt-feed">
  <h2>Latest YouTube Videos</h2>

  <div class="video-grid">
    {% for vid in youtube_videos %}
      <div class="video-card">
        <div class="yt-embed">
          <iframe
            src="https://www.youtube.com/embed/{{ vid.video_id }}"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            loading="lazy"
          ></iframe>
        </div>
        <h3>{{ vid.title }}</h3>
        {% if vid.published_at %}
          <p class="video-date">{{ vid.published_at|date:"F j, Y" }}</p>
        {% endif %}
      </div>
    {% empty %}
      <p>No videos available at the moment. Check back soon!</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
